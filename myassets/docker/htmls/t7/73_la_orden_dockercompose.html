<!doctype html>
<html lang="es">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>7.3 La orden docker-compose | Módulo 7. Aplicaciones multicapa con docker-compose </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta name="author" content="Juan Diego Pérez para la Consejería de Educación y Deporte" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" />
<meta name="generator" content="eXeLearning 2.6 - exelearning.net" />
<!--[if lt IE 9]><script type="text/javascript" src="exe_html5.js"></script><![endif]-->
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="exe-web-site" id="exe-node-8"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Saltar la navegación</a></p>
<header id="header" ><div id="headerContent">Módulo 7. Aplicaciones multicapa con docker-compose</div></header>
<nav id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">7. Aplicaciones multicapa con docker-compose</a></li>
   <li><a href="71_instalacin_de_dockercompose.html" class="no-ch">7.1 Instalación de docker-compose</a></li>
   <li><a href="72_el_archivo_dockercomposeyml.html" class="no-ch">7.2 El archivo docker-compose.yml</a></li>
   <li id="active"><a href="73_la_orden_dockercompose.html" class="active no-ch">7.3 La orden docker-compose</a></li>
   <li><a href="74_aplicaciones_a_la_docencia_entornos_de_prcticas.html" class="no-ch">7.4 Aplicaciones a la docencia. Entornos de prácticas.</a></li>
   <li><a href="75_publicacin_de_archivos_dockercompose_en_dockerhub.html" class="no-ch">7.5 Publicación de archivos docker-compose en DockerHub</a></li>
   <li><a href="76_recursos_utilizados.html" class="no-ch">7.6 Recursos utilizados</a></li>
   <li><a href="crditos.html" class="no-ch">Créditos</a></li>
</ul>
</nav>
<div id='topPagination'>
<nav class="pagination noprt">
<a href="72_el_archivo_dockercomposeyml.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="74_aplicaciones_a_la_docencia_entornos_de_prcticas.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
<div id="main-wrapper">
<section id="main">
<header id="nodeDecoration"><h1 id="nodeTitle">7.3 La orden docker-compose</h1></header>
<article class="iDevice_wrapper textIdevice em_iDevice em_iDevice_conocer" id="id7">
<div class="iDevice emphasis1" >
<header class="iDevice_header" style="background-image:url(icon_conocer.png)"><h1 class="iDeviceTitle">PUESTA EN MARCHA DE LOS SERVICIOS</h1></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta7_121_2" class="block iDevice_content">
<div class="exe-text"><p>Una vez hemos creado el archivo docker-compose.yml tenemos que empezar <strong>a trabajar con él</strong>, es decir a crear los contenedores que describe su contenido.</p>
<p>Esto lo haremos <strong>mediante el ejecutable docker-compose</strong>.<strong>ES IMPORTANTE DESTACAR QUE DEBEMOS INVOCARLA DESDE EL DIRECTORIO EN EL QUE SE ENCUENTRA EL FICHERO docker-compose.yml.</strong></p>
<p>Esta herramienta (docker-compose) tiene muchos subcomandos y estos subcomandos, a su vez, tienen u montón de opciones. Nos vamos a centrar en ejemplificar con las combinaciones más comunes y además pondremos una lista de aquellas que también pueden resultar interesantes:</p>
<table style="width: 100%; background-color: #000000;" border="0">
<tbody>
<tr>
<td style="width: 100%;">
<p><span style="font-size: 14pt; color: #ff0000;">#Obtener la versión de docker-compose.</span></p>
<p><span style="font-size: 14pt; color: #00ff00;">&gt; docker-compose --version</span></p>
<p><span style="font-size: 14pt;"><span style="color: #ff0000;"># Crear los contenedores (servicios) que están descritos en el docker-compose.yml.</span><br /></span></p>
<p><span style="font-size: 14pt; color: #00ff00;">&gt; docker-compose up</span></p>
<p><span style="font-size: 14pt; color: #ff0000;"># Crear en modo detach los contenedores (servicios) que <span style="font-size: 14pt;"><span style="color: #ff0000;">están descritos en el docker-compose.yml</span></span>. Eso significa que no muestran mensajes de log en el terminal y que se  nos vuelve a mostrar un prompt.</span></p>
<p><span style="font-size: 14pt; color: #00ff00;">&gt; docker-compose up -d</span></p>
<p><span style="font-size: 14pt; color: #ff0000;"># Detiene los contenedores que previamente se han lanzado con docker-compose up.</span></p>
<p><span style="font-size: 14pt; color: #00ff00;">&gt; docker-compose stop</span></p>
<p><span style="font-size: 14pt; color: #ff0000;"># Inicia los contenedores descritos en el docker-compose.yml que estén parados.</span></p>
<p><span style="font-size: 14pt;"><span style="color: #00ff00;">&gt; docker-compose run</span> </span></p>
<p><span style="font-size: 14pt; color: #ff0000;"># Pausa los contenedores que previamente se han lanzado con docker-compose up.</span></p>
<p><span style="font-size: 14pt; color: #00ff00;">&gt; docker-compose pause</span></p>
<p><span style="font-size: 14pt; color: #ff0000;"># Reanuda los contenedores que previamente se han pausado.</span></p>
<p><span style="font-size: 14pt; color: #00ff00;">&gt; docker-compose unpause</span></p>
<p><span style="font-size: 14pt; color: #ff0000;"># Reinicia los contenedores. Orden ideal para reiniciar servicios con nuevas configuraciones.</span></p>
<p><span style="font-size: 14pt; color: #00ff00;">&gt; docker-compose restart</span></p>
<p><span style="font-size: 14pt; color: #ff0000;"># Para los contenedores, los borra  y también borra las redes que se han creado con docker-compose up (en caso de haberse creado).</span></p>
<p><span style="font-size: 14pt; color: #00ff00;">&gt; docker-compose down</span></p>
<p><span style="font-size: 14pt; color: #ff0000;"># Para los contenedores y borra contenedores, redes y volúmenes</span></p>
<p><span style="font-size: 14pt; color: #00ff00;">&gt; docker-compose down -v</span></p>
<p><span style="font-size: 14pt;"><span style="color: #ff0000;"># Muestra los logs del servicio llamado servicio1 que estaba descrito en el docker-compose.yml.</span> </span></p>
<p><span style="font-size: 14pt; color: #00ff00;">&gt; docker-compose logs servicio1</span></p>
<p><span style="font-size: 14pt; color: #ff0000;"># Ejecuta una orden, en este caso /bin/bash en un contenedor llamado servicio1 que estaba descrito en el docker-compose.yml</span></p>
<p><span style="font-size: 14pt; color: #00ff00;">&gt; docker-compose exec servicio1 /bin/bash</span></p>
</td>
</tr>
</tbody>
</table>
<p>Algunos otros subcomandos interesante son:</p>
<ul>
<li><strong>docker-compose build</strong> que ejecutaría, si está indicado, el proceso de construcción de una imagen que va a ser usado en el docker-compose.yml  a partir de los  ficheros Dockerfile que se indican.</li>
<li><strong>docker-compose top </strong>que muestra  los procesos que están ejecutándose en cada uno de los contenedores de los servicios.</li>
</ul>
<p><strong>IMPORTANTE (REPITIENDO): DEBEMOS LLAMAR A LA DOCKER-COMPOSE DESDE EL DIRECTORIO DONDE ESTÁ EL FICHERO DOCKER-COMPOSE.YML<br /></strong></p>
<p><strong></strong></p></div>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper textIdevice em_iDevice em_iDevice_informarse" id="id10">
<div class="iDevice emphasis1" >
<header class="iDevice_header" style="background-image:url(icon_informarse.png)"><h1 class="iDeviceTitle">REFERENCIA COMPLETA DOCKER-COMPOSE</h1></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta10_115_2" class="block iDevice_content">
<div class="exe-text"><p>Podéis encontrar la referencia completa de la orden docker-compose en el siguiente enlace: <a href="https://docs.docker.com/compose/reference/" target="_blank" rel="noopener">https://docs.docker.com/compose/reference/</a></p></div>
</div>
</div>
</div>
</div>
</article>
<div id="packageLicense" class="cc cc-by-nc-sa">
<p><span>Obra publicada con</span> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Licencia Creative Commons Reconocimiento No comercial Compartir igual 4.0</a></p>
</div>
</section>
</div>
<div id='bottomPagination'>
<nav class="pagination noprt">
<a href="72_el_archivo_dockercomposeyml.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="74_aplicaciones_a_la_docencia_entornos_de_prcticas.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
</div>
<script type="text/javascript" src="_adultos_js.js"></script></body></html>